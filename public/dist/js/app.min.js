var app=angular.module("myApp",["ui.router","BlogCtrl","PostCtrl"]);app.config(function(a,b){a.state("main",{name:"main",url:"/main",templateUrl:"views/main.html"}).state("blog",{name:"blog",url:"/blog",templateUrl:"views/blog.html",controller:"BlogCtrl"}).state("blog.page1",{url:"/page1",name:"page1",templateUrl:"views/page1.html",controller:"PostCtrl"}),b.otherwise("/main")}),app.controller("MainCtrl",function(a){}),angular.module("BlogCtrl",[]).controller("BlogCtrl",function(a,b,c){var d=b({method:"GET",url:"http://localhost:5000/api/blog",contentType:"application/x-www-form-urlencoded; charset=gbk"});d.success(function(b){a.blogs=b.message}),c.$on("$stateChangeSuccess",function(c,d,e,f,g){console.log("Success"+d),console.log(e),console.log(f),console.log(g);var h=b({method:"GET",url:"http://localhost:5000/api/blog",contentType:"application/x-www-form-urlencoded; charset=gbk"});h.success(function(b){a.blogs=b.message})})}),angular.module("PostCtrl",[]).controller("PostCtrl",function(a,b){a.submit=function(){var c=b({method:"POST",url:"http://localhost:5000/api/blog",contentType:"application/x-www-form-urlencoded; charset=gbk",data:{title:a.blogs.title,content:a.blogs.content}});c.success(function(b){alert(b.message),a.blogs=""})}});